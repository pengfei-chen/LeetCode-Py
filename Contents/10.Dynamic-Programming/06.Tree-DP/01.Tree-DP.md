## 1. 树形动态规划简介

> **树形动态规划**：在树形结构上实现的动态规划方法，简称为「树形 DP」。如下图所示，树形 DP 的求解过程一般以节点从深到浅（子树从小到大）的顺序作为动态规划的「阶段」。在树形 DP 中，第 $1$ 维通常是节点编号，代表以该节点为根的子树。

![](https://qcdn.itcharge.cn/images/20230418114342.png)

> **树形 DP 的关键思路**：先通过递归的方式求解每棵子树，然后在回溯时，自底向上地从子节点向上进行状态转移。只有在当前节点的所有子树求解完毕之后，才可以求解当前节点，以及继续向上进行求解。

## 2. 树形 DP 的简单例子

### 2.1 二叉树的直径

#### 2.1.1 题目链接

- [543. 二叉树的直径 - 力扣](https://leetcode.cn/problems/diameter-of-binary-tree/)

#### 2.1.2 题目大意

**描述**：给定一个二叉树的根节点 $root$。

**要求**：计算该二叉树的直径长度。

**说明**：

- **二叉树的直径长度**：二叉树中任意两个节点路径长度中的最大值。
- 两节点之间的路径长度是以它们之间边的数目表示。
- 这条路径可能穿过也可能不穿过根节点。

**示例**：

- 示例 1：

```Python
给定二叉树：
          1
         / \
        2   3
       / \     
      4   5    
输出：3
解释：该二叉树的长度是路径 [4,2,1,3] 或者 [5,2,1,3]。
```

#### 2.1.3 解题思路



## 3. 树形 DP 的应用